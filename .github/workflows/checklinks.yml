name: checklinks

on: 
  push:
    branches:
    - master
  schedule:
    - cron:  '0 13 * * 6'

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Check links on site
      uses: mattorb/actions-muffet@v1.3.1
      with: 
        args: >
          --timeout 20 
          --exclude .*linkedin.com/in/mattorb 
          --exclude .*twitter.com/share.* 
          --exclude "https://graphql.org/learn/pagination/#complete-connection-model"
          --exclude "https://github.com/mattorb/blog/actions\?workflow=checklinks"
          https://mattorb.com
